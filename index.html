<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Compatibility Test</title>

<style>

body{
    margin:0;
    overflow:hidden;
    font-family:Arial, sans-serif;
    background:linear-gradient(135deg,#1e1e2f,#ff4d6d);
    color:white;
    text-align:center;
}

/* LOADING SCREEN */

#loading{
    position:fixed;
    width:100%;
    height:100%;
    background:#0f0f1a;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    font-size:32px;
}

#status{
    font-size:26px;
    margin-bottom:20px;
}

#barContainer{
    width:320px;
    height:20px;
    background:#333;
    border-radius:10px;
    overflow:hidden;
}

#bar{
    height:100%;
    width:0%;
    background:linear-gradient(90deg,#00c853,#69f0ae);
}

#percent{
    margin-top:15px;
    font-size:20px;
}

/* MAIN */

#main{
    display:none;
    margin-top:15%;
}

button{
    font-size:24px;
    padding:15px 30px;
    margin:20px;
    border:none;
    border-radius:15px;
    cursor:pointer;
    transition:all 0.2s;
}

#yes{
    background:#00c853;
}

#no{
    background:#d50000;
    position:absolute;
}

#message{
    height:30px;
    font-size:20px;
}

/* CONFETTI */

.confetti{
    position:absolute;
    width:10px;
    height:10px;
    pointer-events:none;
}

</style>
</head>

<body>

<audio id="music" src="music.mp3" loop></audio>
<audio id="scanSound" src="scan.mp3"></audio>
<audio id="boingSound" src="boing.mp3"></audio>
<audio id="successSound" src="success.mp3"></audio>

<div id="loading">

<div id="status">Initializing scan...</div>

<div id="barContainer">
<div id="bar"></div>
</div>

<div id="percent">0%</div>

</div>


<div id="main">

<h1>Compatibility confirmed.</h1>

<h2>Would you go on a date with me? ðŸ˜Œ</h2>

<button id="yes">YES</button>
<button id="no">NO</button>

<div id="message"></div>

</div>


<script>

window.onload=function(){
let audioUnlocked=false;

function unlockAudio(){

if(audioUnlocked) return;

audioUnlocked=true;

// play and immediately pause to unlock
scanSound.play().then(()=>{
scanSound.pause();
scanSound.currentTime=0;
}).catch(()=>{});

boingSound.play().then(()=>{
boingSound.pause();
boingSound.currentTime=0;
}).catch(()=>{});

successSound.play().then(()=>{
successSound.pause();
successSound.currentTime=0;
}).catch(()=>{});

music.play().then(()=>{
music.pause();
music.currentTime=0;
}).catch(()=>{});

}
document.addEventListener("click", unlockAudio);
document.addEventListener("mousemove", unlockAudio);
document.addEventListener("touchstart", unlockAudio);
document.addEventListener("keydown", unlockAudio);

const music=document.getElementById("music");

let musicStarted=false;

function startMusic(){

if(!musicStarted){

musicStarted=true;

music.volume=0;
music.play().catch(()=>{});

let vol=0;

let fade=setInterval(()=>{

vol+=0.02;

if(vol>=0.4){

music.volume=0.4;
clearInterval(fade);

}else{

music.volume=vol;

}

},100);

}

}

const scanSound=document.getElementById("scanSound");
const boingSound=document.getElementById("boingSound");
const successSound=document.getElementById("successSound");

// play scan sound every message change
function playScan(){
scanSound.currentTime=0;
scanSound.play().catch(()=>{});
}


const status=document.getElementById("status");
const bar=document.getElementById("bar");
const percentText=document.getElementById("percent");

const loading=document.getElementById("loading");
const main=document.getElementById("main");

const scanMessages=[
"Scanning personality...",
"Checking sense of humor...",
"Analyzing smile...",
"Detecting good vibes...",
"Verifying compatibility...",
"Finalizing results..."
];

let percent=0;

let interval=setInterval(()=>{

percent++;

bar.style.width=percent+"%";
percentText.innerText=percent+"%";

if(percent%16==0){

playScan();

status.innerText=
scanMessages[Math.floor(percent/16)];

}

if(percent>=100){

clearInterval(interval);

status.innerText="Compatibility: 100%";

setTimeout(()=>{

loading.style.display="none";
main.style.display="block";
centerNo();

},500);

}

},100);


// BUTTONS

const no=document.getElementById("no");
const yes=document.getElementById("yes");
const message=document.getElementById("message");

let yesSize=24;
let noSize=24;

const funnyMessages=[
"Nice try ðŸ˜",
"Access denied",
"You can't escape fate",
"That was suspicious",
"System blocked that",
"Try pressing YES ðŸ˜Œ"
];

function centerNo(){

no.style.left=(window.innerWidth/2+80)+"px";
no.style.top=(window.innerHeight/2+20)+"px";

}


function moveNo(){
    
boingSound.currentTime=0;
boingSound.play().catch(()=>{});

let x=Math.random()*(window.innerWidth-100);
let y=Math.random()*(window.innerHeight-50);

no.style.left=x+"px";
no.style.top=y+"px";

message.innerText=
funnyMessages[Math.floor(Math.random()*funnyMessages.length)];

yesSize+=4;
yes.style.fontSize=yesSize+"px";

noSize-=2;

if(noSize<=8){

no.style.display="none";
message.innerText="There was never really a choice ðŸ˜Œ";

}else{

no.style.fontSize=noSize+"px";
no.style.padding=(noSize/2)+"px "+noSize+"px";

}

}

no.addEventListener("mouseover",moveNo);
no.addEventListener("click",moveNo);
document.addEventListener("click",startMusic);
document.addEventListener("mousemove",startMusic);
document.addEventListener("touchstart",startMusic);



// REAL CONFETTI EXPLOSION

function confettiExplosion(){

const colors=["#ff4d6d","#00c853","#ffd600","#00b0ff","#ff9100","#e040fb"];

for(let i=0;i<200;i++){

let conf=document.createElement("div");

conf.className="confetti";

conf.style.background=
colors[Math.floor(Math.random()*colors.length)];

conf.style.left=window.innerWidth/2+"px";
conf.style.top=window.innerHeight/2+"px";

document.body.appendChild(conf);

let angle=Math.random()*360;
let velocity=Math.random()*10+5;

let x=0;
let y=0;

let gravity=0.3;

let vx=Math.cos(angle)*velocity;
let vy=Math.sin(angle)*velocity;

let rotate=Math.random()*360;

let anim=setInterval(()=>{

vy+=gravity;

x+=vx;
y+=vy;

conf.style.transform=
`translate(${x}px,${y}px) rotate(${rotate+=5}deg)`;

if(y>window.innerHeight){

conf.remove();
clearInterval(anim);

}

},16);

}

}


// YES CLICK

yes.addEventListener("click",()=>{
    
music.pause();

successSound.play().catch(()=>{});

document.body.innerHTML=
"<h1 style='margin-top:20%'>Excellent choice ðŸ˜Œ</h1><h2>Preparing your future...</h2>";

confettiExplosion();

setTimeout(()=>{

window.location.href=
"https://instagram.com/_its_me_kev";

},2500);

});


};

</script>

</body>
</html>
