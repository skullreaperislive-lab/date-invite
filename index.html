<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Compatibility Test</title>

<style>

body{
margin:0;
background:#0f0f1a;
color:white;
font-family:Arial;
overflow:hidden;
text-align:center;
}

/* START SCREEN */

#startScreen{
position:fixed;
width:100%;
height:100%;
background:#0f0f1a;
display:flex;
justify-content:center;
align-items:center;
z-index:1000;
}

#startButton{
font-size:24px;
padding:15px 40px;
border:none;
border-radius:12px;
background:#00c853;
color:white;
cursor:pointer;
}

/* LOADING */

#loading{
display:none;
position:fixed;
width:100%;
height:100%;
justify-content:center;
align-items:center;
flex-direction:column;
background:#0f0f1a;
}

#heart{
font-size:60px;
animation:pulse 1s infinite;
}

@keyframes pulse{
0%{transform:scale(1);}
50%{transform:scale(1.2);}
100%{transform:scale(1);}
}

#barContainer{
width:300px;
height:20px;
background:#333;
margin-top:20px;
border-radius:10px;
overflow:hidden;
}

#bar{
height:100%;
width:0%;
background:#00c853;
}

/* MAIN */

#main{
display:none;
height:100vh;
justify-content:center;
align-items:center;
flex-direction:column;
}

button{
font-size:20px;
padding:10px 30px;
margin:10px;
border:none;
border-radius:10px;
cursor:pointer;
}

#yes{
background:#00c853;
color:white;
}

#no{
background:#ff5252;
color:white;
position:absolute;
}

canvas{
position:fixed;
top:0;
left:0;
pointer-events:none;
}

</style>
</head>
<body>

<!-- START SCREEN -->

<div id="startScreen">
<button id="startButton">Tap to begin ❤️</button>
</div>

<!-- LOADING -->

<div id="loading">
<div id="heart">❤️</div>
<div id="status">Initializing...</div>

<div id="barContainer">
<div id="bar"></div>
</div>

<div id="percent">0%</div>
</div>

<!-- MAIN -->

<div id="main">

<h1>Will you go on a date with me?</h1>

<button id="yes">YES</button>
<button id="no">NO</button>

</div>

<canvas id="confetti"></canvas>

<!-- AUDIO -->

<audio id="scanSound" src="scan.mp3"></audio>
<audio id="boingSound" src="boing.mp3"></audio>
<audio id="successSound" src="success.mp3"></audio>
<audio id="music" src="music.mp3" loop></audio>

<script>

const startButton=document.getElementById("startButton");
const startScreen=document.getElementById("startScreen");

const loading=document.getElementById("loading");
const bar=document.getElementById("bar");
const percentText=document.getElementById("percent");
const status=document.getElementById("status");

const main=document.getElementById("main");
const yes=document.getElementById("yes");
const no=document.getElementById("no");

const scanSound=document.getElementById("scanSound");
const boingSound=document.getElementById("boingSound");
const successSound=document.getElementById("successSound");
const music=document.getElementById("music");

/* START BUTTON */

startButton.onclick=()=>{

startScreen.style.display="none";
loading.style.display="flex";

music.volume=0;
music.play().catch(()=>{});

fadeMusic();

startLoading();

};

/* FADE MUSIC */

function fadeMusic(){

let v=0;

let fade=setInterval(()=>{

v+=0.02;

if(v>=0.4){

music.volume=0.4;
clearInterval(fade);

}else{

music.volume=v;

}

},100);

}

/* LOADING */

function startLoading(){

let percent=0;

scanSound.currentTime=0;
scanSound.play().catch(()=>{});

let interval=setInterval(()=>{

percent++;

bar.style.width=percent+"%";
percentText.innerText=percent+"%";

if(percent>=100){

clearInterval(interval);

scanSound.pause();
scanSound.currentTime=0;

setTimeout(()=>{

loading.style.display="none";
main.style.display="flex";
centerNo();

},500);

}

},80);

}

/* RUNAWAY NO */

function centerNo(){

no.style.left="60%";
no.style.top="60%";

}

no.onmouseover=()=>{

boingSound.currentTime=0;
boingSound.play().catch(()=>{});

let x=Math.random()*(window.innerWidth-100);
let y=Math.random()*(window.innerHeight-50);

no.style.left=x+"px";
no.style.top=y+"px";

};

/* YES CLICK */

yes.onclick=()=>{

successSound.currentTime=0;
successSound.play().catch(()=>{});

confettiExplosion();

setTimeout(()=>{

window.location.href="https://instagram.com/YOURUSERNAME";

},2000);

};

/* CONFETTI */

const canvas=document.getElementById("confetti");
const ctx=canvas.getContext("2d");

canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

let pieces=[];

function confettiExplosion(){

for(let i=0;i<200;i++){

pieces.push({

x:canvas.width/2,
y:canvas.height/2,
vx:(Math.random()-0.5)*10,
vy:(Math.random()-0.5)*10,
size:Math.random()*10

});

}

animate();

}

function animate(){

ctx.clearRect(0,0,canvas.width,canvas.height);

pieces.forEach(p=>{

p.x+=p.vx;
p.y+=p.vy;

ctx.fillRect(p.x,p.y,p.size,p.size);

});

requestAnimationFrame(animate);

}

</script>

</body>
</html>
