<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Face Compatibility Scanner ‚ù§Ô∏è</title>
<style>
body{
  margin:0;
  overflow:hidden;
  font-family:Arial,sans-serif;
  background:black;
  color:white;
  text-align:center;
}

/* START SCREEN */
#startScreen{
  position:fixed;
  width:100%;
  height:100%;
  background:#0f0f1a;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:1000;
}
#startButton{
  font-size:24px;
  padding:15px 40px;
  border:none;
  border-radius:12px;
  background:#00c853;
  color:white;
  cursor:pointer;
}

/* LOADING / SCANNER FULL SCREEN */
#loading{
  display:none;
  position:fixed;
  width:100%;
  height:100%;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  background:black;
  overflow:hidden;
}

#scanner{
  position:absolute;
  width:100%;
  height:100%;
  top:0;
  left:0;
  overflow:hidden;
  border:5px solid red;
  box-sizing:border-box;
  animation:pulseScanner 1.5s infinite alternate;
}

/* SCAN LINES */
.scan-line{
  position:absolute;
  width:100%;
  height:4px;
  background:red;
  top:0;
  animation:scan 3s linear infinite;
  opacity:0.6;
}
.scan-line:nth-child(2){animation-delay:1s;}
.scan-line:nth-child(3){animation-delay:2s;}

@keyframes scan{
  0%{top:0;}
  50%{top:100%;}
  100%{top:0;}
}
@keyframes pulseScanner{
  0%{box-shadow:0 0 10px #ff0000;}
  100%{box-shadow:0 0 25px #ff0000;}
}

/* FACE OUTLINE */
#faceOutline{
  position:absolute;
  top:50%;
  left:50%;
  width:200px;
  height:250px;
  margin-left:-100px;
  margin-top:-125px;
  border:2px solid red;
  border-radius:50%/60%;
  box-sizing:border-box;
  pointer-events:none;
  z-index:10;
  animation:facePulse 1.5s infinite alternate;
}
@keyframes facePulse{
  0%{box-shadow:0 0 5px red;}
  100%{box-shadow:0 0 20px red;}
}

/* SCAN STATUS */
#status{
  position:absolute;
  top:80%;
  width:100%;
  text-align:center;
  font-size:24px;
  z-index:20;
}

#barContainer{
  position:absolute;
  bottom:15%;
  left:50%;
  transform:translateX(-50%);
  width:320px;
  height:20px;
  background:#333;
  border-radius:10px;
  overflow:hidden;
}
#bar{height:100%;width:0%;background:linear-gradient(90deg,#00c853,#69f0ae);}
#percent{position:absolute;bottom:10%;width:100%;text-align:center;font-size:20px;z-index:20;}

/* MAIN SCREEN */
#main{
  display:none;
  margin-top:15%;
}
button{
  font-size:24px;
  padding:15px 30px;
  margin:20px;
  border:none;
  border-radius:15px;
  cursor:pointer;
  transition:all 0.2s;
}
#yes{background:#00c853;color:white;}
#no{background:#d50000;color:white;position:absolute;}
#message{height:30px;font-size:20px;}

/* CONFETTI */
.confetti{
  position:absolute;
  width:10px;
  height:10px;
  pointer-events:none;
}
</style>
</head>
<body>

<!-- START SCREEN -->
<div id="startScreen">
  <div>
    <h1>Face Compatibility Test ‚ù§Ô∏è</h1>
    <p>Tap to begin</p>
    <button id="startButton">BEGIN</button>
  </div>
</div>

<!-- LOADING / SCANNER -->
<div id="loading">
  <div id="scanner">
    <div class="scan-line"></div>
    <div class="scan-line"></div>
    <div class="scan-line"></div>
  </div>
  <div id="faceOutline"></div>
  <div id="status">Initializing scan...</div>
  <div id="barContainer"><div id="bar"></div></div>
  <div id="percent">0%</div>
</div>

<!-- MAIN -->
<div id="main">
  <h1>Compatibility confirmed üòå</h1>
  <h2>Would you go on a date with me?</h2>
  <button id="yes">YES</button>
  <button id="no">NO</button>
  <div id="message"></div>
</div>

<!-- AUDIO -->
<audio id="music" src="music.mp3" loop></audio>
<audio id="scanSound" src="scan.mp3"></audio>
<audio id="boingSound" src="boing.mp3"></audio>
<audio id="successSound" src="success.mp3"></audio>

<script>
const startScreen=document.getElementById("startScreen");
const startButton=document.getElementById("startButton");

const loading=document.getElementById("loading");
const bar=document.getElementById("bar");
const percentText=document.getElementById("percent");
const status=document.getElementById("status");

const main=document.getElementById("main");
const yes=document.getElementById("yes");
const no=document.getElementById("no");
const message=document.getElementById("message");

const music=document.getElementById("music");
const scanSound=document.getElementById("scanSound");
const boingSound=document.getElementById("boingSound");
const successSound=document.getElementById("successSound");

let yesSize=24;
let noSize=24;

const scanMessages=[
"Scanning face...",
"Analyzing features...",
"Checking expression...",
"Verifying vibes...",
"Calculating compatibility...",
"Finalizing results..."
];
const funnyMessages=[
"Nice try üòè","Access denied","You can't escape fate","System blocked that","Try pressing YES üòå"
];

// START BUTTON
startButton.onclick=()=>{
  startScreen.style.display="none";
  loading.style.display="flex";

  music.volume=0;
  music.play().catch(()=>{});
  fadeMusic();

  startLoading();
};

// MUSIC FADE-IN
function fadeMusic(){
  let v=0;
  let fade=setInterval(()=>{
    v+=0.02;
    if(v>=0.4){music.volume=0.4; clearInterval(fade);}
    else{music.volume=v;}
  },100);
}

// LOADING FUNCTION
function startLoading(){
  let percent=0;
  scanSound.currentTime=0;
  scanSound.play();

  const scanner=document.getElementById("scanner");

  let interval=setInterval(()=>{
    percent++;
    bar.style.width=percent+"%";
    percentText.innerText=percent+"%";

    if(percent%16===0){
      status.innerText=scanMessages[Math.floor(percent/16)];
    }

    // scanner border pulse with sound
    scanner.style.borderColor = `rgb(255, ${Math.floor(Math.random()*100)}, ${Math.floor(Math.random()*100)})`;

    if(percent>=100){
      clearInterval(interval);
      scanSound.pause(); scanSound.currentTime=0;
      status.innerText="Compatibility: 100%";
      setTimeout(()=>{loading.style.display="none"; main.style.display="block"; centerNo();},800);
    }
  },100);
}

// NO BUTTON RUNAWAY
function centerNo(){no.style.left="60%"; no.style.top="60%";}
no.onmouseover = ()=>{
  if(no.style.display==="none") return;

  boingSound.currentTime=0; boingSound.play().catch(()=>{});

  let x=Math.random()*(window.innerWidth-100);
  let y=Math.random()*(window.innerHeight-50);
  no.style.left=x+"px"; no.style.top=y+"px";

  message.innerText=funnyMessages[Math.floor(Math.random()*funnyMessages.length)];

  yesSize +=4;
  yes.style.fontSize=yesSize+"px";

  noSize -=2;
  if(noSize<=8){
    no.style.display="none";
    message.innerText="There was never really a choice üòå";
    no.onmouseover = null;
  } else {
    no.style.fontSize=noSize+"px";
    no.style.padding=(noSize/2)+"px "+noSize+"px";
  }
};

// YES BUTTON CLICK
yes.onclick=()=>{
  successSound.currentTime=0; successSound.play().catch(()=>{});
  confettiExplosion();
  setTimeout(()=>{window.location.href="https://instagram.com/_its_me_kev";},2500);
};

// CONFETTI
function confettiExplosion(){
  for(let i=0;i<200;i++){
    let conf=document.createElement("div");
    conf.className="confetti";
    conf.style.background=["#ff4d6d","#00c853","#ffd600","#00b0ff","#ff9100","#e040fb"][Math.floor(Math.random()*6)];
    conf.style.left=(window.innerWidth/2)+"px";
    conf.style.top=(window.innerHeight/2)+"px";
    document.body.appendChild(conf);

    let angle=Math.random()*2*Math.PI;
    let speed=Math.random()*10+5;
    let vx=Math.cos(angle)*speed;
    let vy=Math.sin(angle)*speed;
    let gravity=0.3;
    let rotation=Math.random()*360;

    let anim=setInterval(()=>{
      vy+=gravity;
      let x=parseFloat(conf.style.left)+vx;
      let y=parseFloat(conf.style.top)+vy;
      conf.style.left=x+"px";
      conf.style.top=y+"px";
      conf.style.transform=`rotate(${rotation+=5}deg)`;
      if(y>window.innerHeight){conf.remove(); clearInterval(anim);}
    },16);
  }
}
</script>
</body>
</html>
